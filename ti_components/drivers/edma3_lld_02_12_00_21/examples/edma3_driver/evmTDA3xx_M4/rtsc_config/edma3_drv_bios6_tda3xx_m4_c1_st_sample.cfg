/*use modules*/
var Task = xdc.useModule ("ti.sysbios.knl.Task");
var BIOS      = xdc.useModule ("ti.sysbios.BIOS");
var Startup   = xdc.useModule ("xdc.runtime.Startup");
var System    = xdc.useModule ("xdc.runtime.System");
var Log       = xdc.useModule ("xdc.runtime.Log");
var Hwi = xdc.useModule('ti.sysbios.hal.Hwi');
var Semaphore = xdc.useModule('ti.sysbios.knl.Semaphore');
var Cache0 = xdc.useModule('ti.sysbios.hal.Cache');
var Error = xdc.useModule('xdc.runtime.Error');
var HwiM3       = xdc.useModule('ti.sysbios.family.arm.m3.Hwi');
var Program     = xdc.useModule("xdc.cfg.Program");
var InitXbar    = xdc.useModule("ti.sysbios.family.shared.vayu.IntXbar");

/* ISR/SWI stack        */
Program.stack           = 0x4000;

/* Heap used when creating semaphore's, TSK's or malloc() ... */
Program.heap            = 0x15000;

/* enable print of exception handing info */
HwiM3.enableException = true;

/* DSP/BIOS expects this to set to 1 */
var Core        = xdc.useModule('ti.sysbios.family.arm.ducati.Core');
Core.id = 1;

/* USE EDMA3 Sample App */
//xdc.loadPackage('ti.sdo.edma3.drv.sample');

/* MMU/Cache related configurations                                           */
var Cache1  = xdc.useModule('ti.sysbios.hal.unicache.Cache');
var AMMU    = xdc.useModule('ti.sysbios.hal.ammu.AMMU');

/* Enable the cache                                                           */
Cache1.enableCache = true;

if (Core.id == 1)
{
	var GateDualCore = xdc.useModule('ti.sysbios.family.arm.ducati.GateDualCore');
	GateDualCore.initGates = true;
}

Task.initStackFlag = false;
Task.checkStackFlag = false;

Hwi.initStackFlag = false;
Hwi.checkStackFlag = false;

var segPlacement = xdc.loadCapsule("app_mem_seg_placement_ipu1_1.cfg");
segPlacement.init();