<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>VLIB: Non-Maximal Suppression (list output)</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<table width=100%>
<tr>
  <td bgcolor="black" width="1"><a href="http://www.ti.com"><img border=0 src="tilogo.gif"></a></td>
  <td bgcolor="red"><img src="titagline.gif"></td>
</tr>
</table>
<!-- Generated by Doxygen 1.5.1-p1 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<div class="nav">
<a class="el" href="index.html">VLIB Function Reference</a></div>
<h1><a class="anchor" name="non_maximal_suppression_list">Non-Maximal Suppression (list output)</a></h1><h2><a class="anchor" name="intro35">
Introduction and Use Cases</a></h2>
Vision algorithms such as Harris Corner detection produce an intensity map or voting space for which the local maxima or peaks need to be found.<h2><a class="anchor" name="specification35">
Specification</a></h2>
<h3><a class="anchor" name="variants35">
Variants</a></h3>
This functionality is available in two input bit depth variants (16-bit &amp; 32-bit), each with three neighborhood size variants:<ul>
<li>3 16-bit variants in a single function: 3x3, 5x5, 7x7</li><li>3 32-bit variants in a single function: 3x3, 5x5, 7x7</li></ul>
<p>
Note that there is also a mask output version: <a class="el" href="non_maximal_suppression_mask.html">Non-Maximal Suppression (mask output)</a>. It is not listed on this page because the API and method is sufficiently different. Primary differences are:<ul>
<li>Mask output version produces an output which is a byte mask of the peaks (255 for peaks, and 0 for non-peaks), whereas the list output version produces an output which is a list of coordinates (y,x) where the peaks are located.</li><li>Mask output version has fixed functions for 3x3, 5x5, 7x7 kernel sizes, whereas the list output version is a single function with programmable parameter for filter size (3x3, 5x5, 7x7).</li><li>Mask output version has only has functionality for 16-bit inputs, whereas the list output version has variants for both 16-bit input and 32-bit input.</li></ul>
<h3><a class="anchor" name="input35">
Inputs</a></h3>
<div class="fragment"><pre class="fragment">

    Parameter          Description                                   16-bit      32-bit
    -------------------------------------------------------------------------------------
    *im                Input image                                  (UQ16.0)    (UQ32.0)
     w                 Image width                                  (SQ31.0)    (SQ31.0)
     h                 Image height                                 (SQ31.0)    (SQ31.0)
     filterWidth       Filter width                                 (SQ31.0)    (SQ31.0)
     threshold         Threshold for the Maxima                     (UQ32.0)    (UQ32.0)
    *buffer            Buffer for internal use                      (UQ16.0)    (UQ32.0)
    *pixIndex          List of coordinates of non-maxima locations  (SQ15.0)    (SQ15.0)
   </pre></div><h3><a class="anchor" name="outputs35">
Outputs</a></h3>
<div class="fragment"><pre class="fragment">
    Returns VLIB Error Status
</pre></div> <h3><a class="anchor" name="method35">
Method</a></h3>
This function compares the value of each input pixel against its neighbors. For an output pixel to be "on" (coordinate pair included in the output list), the input pixel value must be both:<ul>
<li>Greater than or equal to its neighbors values</li><li>Greater than the minimum threshold</li></ul>
<p>
If the above conditions are not met simultaneously, the output coordiant will not be included in the pixIndex list.<h3><a class="anchor" name="notes35">
Notes</a></h3>
<ul>
<li>The only acceptable values for <code>filterWidth</code> are 3, 5, and 7, representing filter masks sizes 3x3, 5x5, and 7x7, respectively.</li><li>The internal buffer (<code>buffer</code>) size should be at least ((2 * <code>filterWidth</code>) + (<code>w</code> * <code>h</code>)) elements</li><li>The output buffer (<code>pixIndex</code>) size should be (2*w*h+2)*sizeof(U16) bytes</li><li>The format of the output buffer (<code>pixIndex</code>) is as follows:<ul>
<li><code>pixIndex</code>[] = {numPoints, 0, y1, x1, y2, x2, y3, x3, ... yn, xn}<ul>
<li>where <em>n</em> = numPoints = the number of points contained in the list.</li></ul>
</li></ul>
</li></ul>
<h3><a class="anchor" name="apis35">
APIS</a></h3>
<ul>
<li><a class="el" href="group___v_l_i_b__non_max_suppress___u16.html">VLIB_nonMaxSuppress_U16</a></li><li><a class="el" href="group___v_l_i_b__non_max_suppress___u32.html">VLIB_nonMaxSuppress_U32</a></li></ul>
<h2><a class="anchor" name="references35">
References</a></h2>
<ol type=1>
<li>J. Gil and M.Werman. "Computing 2-D min, median, and max filters" IEEE Trans. Pattern Anal. Mach. Intell., 15(5), 504-507, 1993. </li></ol>
<hr size="1"><small>
Copyright  2018, Texas Instruments Incorporated</small>
</body>
</html>
