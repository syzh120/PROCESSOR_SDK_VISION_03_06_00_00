<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>VLIB: Morphological Dilation</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<table width=100%>
<tr>
  <td bgcolor="black" width="1"><a href="http://www.ti.com"><img border=0 src="tilogo.gif"></a></td>
  <td bgcolor="red"><img src="titagline.gif"></td>
</tr>
</table>
<!-- Generated by Doxygen 1.5.1-p1 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<div class="nav">
<a class="el" href="index.html">VLIB Function Reference</a></div>
<h1><a class="anchor" name="morphological_dilation">Morphological Dilation</a></h1><h2><a class="anchor" name="intro9">
Introduction and Use Cases</a></h2>
Dilation, along with erosion, is an elementary morphological operation [<a class="el" href="morphological_dilation.html#references9">1</a>].<h2><a class="anchor" name="specification9">
Specification</a></h2>
<h3><a class="anchor" name="function9">
Function</a></h3>
By itself, dilation expands binary objects in an image and is commonly used to connect neighboring objects before the connected components analysis. In conjunction with erosion, it is used to build other morphological operations, such as opening and closing.<h3><a class="anchor" name="inputs9">
Inputs</a></h3>
<div class="fragment"><pre class="fragment">

    Parameter          Description
    ------------------------------------------------------------------
    *in_data           Input binary image              (32-bit packed)
    *out_data          Output binary image             (32-bit packed)
    *mask              3x3 filter mask (1)             (SQ7.0)
     cols              Number of pixels to process     (SQ31.0)
     pitch             Pitch of input image            (SQ31.0)

    (1) Used in only one of the available versions of dilation.
   </pre></div><h3><a class="anchor" name="mothod9">
Method</a></h3>
These functions use bit-packed binary images; that is, each pixel is represented by a bit. The results are calculated using the definition in the following equation: <div class="fragment"><pre class="fragment">
    Dilation:   out(u,v) = OR OR (in(u+i,v+j) AND mask(N-i,N-j))
</pre></div> In above equation, the logical summation OR is done over i=0,1,2 and j=0,1,2.<p>
There are several important limitations to be aware of:<ul>
<li>I/O buffers are assumed to be double-word aligned and not aliased.</li><li>The inputs <code>cols</code> and <code>pitch</code> must be multiples of 64.</li><li>The bit-packed input and output are ordered the same way as pixels in the image. This is different from the IMGLIB requirement for bit-reversed binary pixels within 32-bit words.</li><li>If the data is a region of interest within a larger image, then <code>pitch</code> &lt; <code>cols</code>.</li><li>The function causes a shift in the output image with respect to the input image. The shift is one pixel to the left and one pixel to the top. See <a class="el" href="filter_shift.html">Output Shift by Filtering Functions</a> for more information. The vertical shift can be avoided by passing pointer to the second row of output as the argument <code>out_data</code> to the function. Since the image is 32-bit backed binary data, horizontal shift cannot be avoided.</li><li>Border pixels will not contain valid data, in particular, the first and last row (if input and output are vertically aligned), as well as two rightmost columns of the output do not contain valid data.</li></ul>
<h3><a class="anchor" name="apis9">
APIS</a></h3>
<ul>
<li><a class="el" href="group___v_l_i_b__dilate__bin__square.html">VLIB_dilate_bin_square</a></li><li><a class="el" href="group___v_l_i_b__dilate__bin__cross.html">VLIB_dilate_bin_cross</a></li><li><a class="el" href="group___v_l_i_b__dilate__bin__mask.html">VLIB_dilate_bin_mask</a></li></ul>
<h2><a class="anchor" name="notes9">
Notes</a></h2>
Repeated application of dilation (resp. erosion) with a 3x3 structuring element can often be used to achieve dilations (resp. erosions) with larger structuring elements, depending on the shape and size of the large structuring element. In general, this can be achieved for odd structuring element sizes (5x5, 7x7, 9x9, ...), and only if the structuring element is decomposable. In practice, repeated application of dilations (resp. erosions) with a 3x3 cross and/or a 3x3 square can be used as a substitute for dilation (resp. erosion) with commonly used large structuring elements.<p>
If the large structuring element is decomposable or can be approximated by one that is decomposable, it is advantageous to use this approach to reduce processing time and memory consumption.<p>
By combining these two 3x3 structuring elements a variety of larger structuring elements can be achieved:<p>
<div class="fragment"><pre class="fragment">

                 1 1 1
            S3 = 1 1 1    (3x3 square)
                 1 1 1

    and

                 0 1 0
            C3 = 1 1 1    (3x3 cross)
                 0 1 0
   </pre></div><p>
For example, an 11x11 structuring element that reasonably approximates a circle can be achieved by this combination (here we denote dilation by a "+" and erosion by a "-"):<p>
<div class="fragment"><pre class="fragment">

            K11 = S3 + S3 + C3 + C3 + C3 =

                  0 0 0 1 1 1 1 1 0 0 0
                  0 0 1 1 1 1 1 1 1 0 0
                  0 1 1 1 1 1 1 1 1 1 0
                  1 1 1 1 1 1 1 1 1 1 1
                  1 1 1 1 1 1 1 1 1 1 1
                  1 1 1 1 1 1 1 1 1 1 1
                  1 1 1 1 1 1 1 1 1 1 1
                  1 1 1 1 1 1 1 1 1 1 1
                  0 1 1 1 1 1 1 1 1 1 0
                  0 0 1 1 1 1 1 1 1 0 0
                  0 0 0 1 1 1 1 1 0 0 0
   </pre></div><p>
Similarly, if an 11x11 square is needed, this decomposition should be used:<p>
<div class="fragment"><pre class="fragment">

            S11 = S3 + S3 + S3 + S3 + S3
   </pre></div><p>
If an 11x11 diamond is desired, this decomposition is needed:<p>
<div class="fragment"><pre class="fragment">

            D11 = C3 + C3 + C3 + C3 + C3
   </pre></div><p>
Based on these decompositions and associativity and distributivity of dilation (resp. erosion), the larger dilation (resp. erosion) with K11 as an example, is implemented as follows:<p>
<div class="fragment"><pre class="fragment">

            A + K11 = A + (S3 + S3 + C3 + C3 + C3)
                    = ((((A + S3) + S3) + C3) + C3) + C3
   </pre></div><p>
And<p>
<div class="fragment"><pre class="fragment">

            A - K11 = A - (S3 + S3 + C3 + C3 + C3)
                    = ((((A - S3) - S3) - C3) - C3) - C3
   </pre></div><h2><a class="anchor" name="references9">
References</a></h2>
<ol type=1>
<li><em> Digital Image Processing </em> by R.C.Gonzales and R.E.Woods, Prentice-Hall, 2007. </li></ol>
<hr size="1"><small>
Copyright  2018, Texas Instruments Incorporated</small>
</body>
</html>
