<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>VLIB: Hough Transform for Lines</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<table width=100%>
<tr>
  <td bgcolor="black" width="1"><a href="http://www.ti.com"><img border=0 src="tilogo.gif"></a></td>
  <td bgcolor="red"><img src="titagline.gif"></td>
</tr>
</table>
<!-- Generated by Doxygen 1.5.1-p1 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<div class="nav">
<a class="el" href="index.html">VLIB Function Reference</a></div>
<h1><a class="anchor" name="hough_transform_for_lines">Hough Transform for Lines</a></h1><h2><a class="anchor" name="intro19">
Introduction and Use Cases</a></h2>
Hough transform for lines is commonly used after edge detection to determine the most dominant lines in the edge image.<h2><a class="anchor" name="specification19">
Specification</a></h2>
<h3><a class="anchor" name="function19">
Function</a></h3>
Calculates the Hough space values from the list of edge points.<h3><a class="anchor" name="input19">
Inputs</a></h3>
<div class="fragment"><pre class="fragment">

    Parameter          Description
    -----------------------------------------------------------------------------------
    *pEdgeMapList      Points to a list of 2xlistSize values of type U16
                       which represent x and y values of edge points           (UQ16.0)
    *pOutHoughSpace    Points to the Hough space                               (UQ16.0)
     outBlkWidth       Width of the original image                             (UQ16.0)
     outBlkHeight      Height of original image                                (UQ16.0)
     listSize          Size of the edge list                                   (UQ32.0)
     thetaRange        Number of samples for theta Range                       (UQ16.0)
     rhoMaxLength      Number of samples for rho Range                         (UQ16.0)
    *pSIN              Sine lookup tables                                      (SQ15.0)
    *pCOS              Cosine lookup tables                                    (SQ15.0)
    *ping              Array of rhoMaxLength elements                          (UQ16.0)
    *pong              Array of rhoMaxLength elements                          (UQ16.0)
    *pang              Array of rhoMaxLength elements                          (UQ16.0)
    *peng              Array of rhoMaxLength elements                          (UQ16.0)
   </pre></div><h3><a class="anchor" name="outputs19">
Outputs</a></h3>
<div class="fragment"><pre class="fragment">
    Returns VLIB Error Status
</pre></div> <h3><a class="anchor" name="method19">
Method</a></h3>
For each edge point (specified by the x and y coordinates) and for each angle theta, rho is calculated by the following equation: <div class="fragment"><pre class="fragment">
    rho = x cos(theta) + y sin(theta)
</pre></div> The corresponding value in the Hough space, located at (rho, theta), is incremented.<h3><a class="anchor" name="apis19">
APIS</a></h3>
<ul>
<li><a class="el" href="group___v_l_i_b__hough_line_from_list.html">VLIB_houghLineFromList</a></li></ul>
<h2><a class="anchor" name="performance19">
Performance Benchmarks</a></h2>
The full benefit of optimized code can be achieved if the data is not partitioned into small buffers and if at least ping, pong, pang, and peng buffers are in internal memory. The performance of 777 cycles per edge point (or 39 cycles per pixel, assuming 5% of pixels are edge points) has been achieved, with input and output data in external memory and ping, pong, pang, and peng buffers in internal memory. The number of edge points in this measurement was 3840 (5% of 320x240 image), while the size of the Hough Space in this measurement was 267x267.<h2><a class="anchor" name="notes19">
Notes</a></h2>
<ul>
<li>The following buffers should be 8 byte aligned in memory: pEdgeMapList, ping, pong, pang, &amp; peng.</li><li>pEdgeMapList points to a list of (2 * <code>listSize</code>) values of type uint16_t, which represent x and y values of edge points: x1,y1,x2,y2, ... While it should be located in the fastest memory available, its role is cache friendly so it can be stored in the external memory.</li><li>pOutHoughSpace points to the Hough space, which is a (<code>thetaRange</code> * <code>rhoMaxLength</code>) array of uint16_t. While it should be located in the fastest memory available, its role is cache friendly so it can be stored in the external memory.</li><li>outBlkWidth and outBlkHeight represent width and height of the original image</li><li>pSIN and pCOS are lookup tables for sine and cosine and can be generated during initialization. While it should be located in the fastest memory available, its role is cache friendly so it can be stored in the external memory.</li><li>ping, pong, pang, and peng are arrays of rhoMaxLength elements of type uint16_t. These arrays should be stored in the fastest available memory.</li><li>The function is written so that the list of edge points can be broken into sublists and the function called on them separately. This is useful if the list needs to be in the fast memory, but is too big to fit there. In that case, the Hough space should be cleared only before the call on the first sublist. </li></ul>
<hr size="1"><small>
Copyright  2018, Texas Instruments Incorporated</small>
</body>
</html>
