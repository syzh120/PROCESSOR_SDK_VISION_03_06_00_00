<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>VLIB: VLIB_blockStatistics</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<table width=100%>
<tr>
  <td bgcolor="black" width="1"><a href="http://www.ti.com"><img border=0 src="tilogo.gif"></a></td>
  <td bgcolor="red"><img src="titagline.gif"></td>
</tr>
</table>
<!-- Generated by Doxygen 1.5.1-p1 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<h1>VLIB_blockStatistics</h1><hr><a name="_details"></a><h2>Detailed Description</h2>

<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___v_l_i_b__block_statistics.html#g74f039fd1d28a3aa39935628d1e382ed">VLIB_blockStatistics</a> (const uint8_t pInput[restrict], uint16_t imageStride, uint16_t imageWidth, uint16_t imageHeight, uint8_t statBlockWidth, uint8_t statBlockHeight, uint8_t pMinimum[restrict], uint8_t pMaximum[restrict], uint16_t pMean[restrict], uint32_t pVariance[restrict], uint8_t pScratch[restrict], uint8_t mode)</td></tr>

</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="g74f039fd1d28a3aa39935628d1e382ed"></a><!-- doxytag: member="c66/VLIB_blockStatistics.h::VLIB_blockStatistics" ref="g74f039fd1d28a3aa39935628d1e382ed" args="(const uint8_t pInput[restrict], uint16_t imageStride, uint16_t imageWidth, uint16_t imageHeight, uint8_t statBlockWidth, uint8_t statBlockHeight, uint8_t pMinimum[restrict], uint8_t pMaximum[restrict], uint16_t pMean[restrict], uint32_t pVariance[restrict], uint8_t pScratch[restrict], uint8_t mode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t VLIB_blockStatistics           </td>
          <td>(</td>
          <td class="paramtype">const uint8_t&nbsp;</td>
          <td class="paramname"> <em>pInput</em>[restrict], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>imageStride</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>imageWidth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>imageHeight</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>statBlockWidth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>statBlockHeight</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>pMinimum</em>[restrict], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>pMaximum</em>[restrict], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>pMean</em>[restrict], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>pVariance</em>[restrict], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>pScratch</em>[restrict], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>mode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl class="user" compact><dt><b>Description:</b></dt><dd>This routine accepts an 8-bit grayscale input image of size imageWidth by imageHeight with a stride of imageStride. The image is divided into non-overlapping blocks of statBlockWidth by statBlockHeight. This kernel computes block statistics over these non-overlapping blocks. Statistics calculated are block minima, block maxima, block mean and block variance. Output of minimum, maximum , mean and variance are available in buffer pMinimum, pMaximum, pMean, pVariance respectively. User needs to allocate these output buffers appropriately.</dd></dl>
<dl class="user" compact><dt><b></b></dt><dd></dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>pInput[]</em>&nbsp;</td><td>input data pointer (UQ8.0 ) </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>imageStride</em>&nbsp;</td><td>stride between input lines, in elements (UQ16.0) </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>imageWidth</em>&nbsp;</td><td>width of input data, in elements (UQ16.0) </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>imageHeight</em>&nbsp;</td><td>height of input data, in elements (UQ16.0) </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>statBlockWidth</em>&nbsp;</td><td>width of the statistics block (UQ8.0 ) </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>statBlockHeight</em>&nbsp;</td><td>height of the statistics block (UQ8.0 ) </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>pMinimum[]</em>&nbsp;</td><td>data pointer for minimum value for each block (UQ8.0 ) </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>pMaximum[]</em>&nbsp;</td><td>data pointer for maximum value for each block (UQ8.0 ) </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>pMean[]</em>&nbsp;</td><td>data pointer for mean value for each block (UQ16.0) </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>pVariance[]</em>&nbsp;</td><td>data pointer for variance value for each block (UQ32.0) </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>pScratch[]</em>&nbsp;</td><td>data pointer for scratch buffer (UQ8.0 ) </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>mode</em>&nbsp;</td><td>optimization mode (0 or 1) (UQ8.0 )</td></tr>
  </table>
</dl>
<dl class="user" compact><dt><b>Method</b></dt><dd><ol type=1>
<li>Minimum : This value is minimum value of the all the pixels present in given block</li><li>Maximum : This value is maximum value of the all the pixels present in given block</li><li>Mean : This vlaue is equal to sum of all the pixels present in given block, which is equal to N*actual_mean of the pixels. Where N is total number of pixel in a block. In order to get actual mean, user must divide outputs by the block size.</li><li>Variance: This value is sum of squares of all the pixel present in given block, times the number of pixels in the block, minus the square of sums of the block. (blockSize*sumSq - (blockSum)^2)</li></ol>
</dd></dl>
<dl class="user" compact><dt><b>Assumptions:</b></dt><dd><ul>
<li>Input image data is of 8 bits.</li><li>Total number of pixels in each block should not be more than 256.</li><li>Output buffers needs to be allocated by user. If total number of output block is N then user needs to allocate the 'pMinimum' buffer of size (N+7). This 7 extra space is coming due to implementation restriction. Similarly for 'pVariance' user need to allocate 4*(N+7).</li><li>Scratch buffer needs to be allocated by user. Size of the scratch buffer depends on value of 'mode'. If mode is zero then scratch buffer size required is 64 bytes. If the mode is one then size of scratch buffer required is (imageWidth*statBlockHeight + 64)</li></ul>
</dd></dl>
<dl class="user" compact><dt><b>Implementation Notes:</b></dt><dd><ul>
<li>There are two optimization flow has been implemented for this kernel. These two flow can be selected by passing the value of 'mode' as either '0' and '1'.</li><li>This code is fully interruptible</li><li>This code is compatible with C6XXX fixed and floating point processors</li></ul>
</dd></dl>
<dl class="user" compact><dt><b>Benchmarks:</b></dt><dd>See VLIB_Test_Report.html for cycle and memory information. </dd></dl>

</div>
</div><p>
<hr size="1"><small>
Copyright  2018, Texas Instruments Incorporated</small>
</body>
</html>
