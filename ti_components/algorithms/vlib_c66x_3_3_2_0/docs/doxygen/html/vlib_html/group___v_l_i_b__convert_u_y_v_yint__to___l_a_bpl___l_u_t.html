<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>VLIB: VLIB_convertUYVYint_to_LABpl_LUT</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<table width=100%>
<tr>
  <td bgcolor="black" width="1"><a href="http://www.ti.com"><img border=0 src="tilogo.gif"></a></td>
  <td bgcolor="red"><img src="titagline.gif"></td>
</tr>
</table>
<!-- Generated by Doxygen 1.5.1-p1 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<h1>VLIB_convertUYVYint_to_LABpl_LUT</h1><hr><a name="_details"></a><h2>Detailed Description</h2>

<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___v_l_i_b__convert_u_y_v_yint__to___l_a_bpl___l_u_t.html#g20588eb598d9bf51511cd21d3bfadac7">VLIB_convertUYVYint_to_LABpl_LUT</a> (const uint8_t *restrict yc, int32_t width, int32_t pitch, int32_t height, int32_t d, const uint16_t *restrict LabExt, uint16_t *restrict L, uint16_t *restrict a, uint16_t *restrict b)</td></tr>

</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="g20588eb598d9bf51511cd21d3bfadac7"></a><!-- doxytag: member="c66/VLIB_convertUYVYint_to_LABpl_LUT.h::VLIB_convertUYVYint_to_LABpl_LUT" ref="g20588eb598d9bf51511cd21d3bfadac7" args="(const uint8_t *restrict yc, int32_t width, int32_t pitch, int32_t height, int32_t d, const uint16_t *restrict LabExt, uint16_t *restrict L, uint16_t *restrict a, uint16_t *restrict b)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t VLIB_convertUYVYint_to_LABpl_LUT           </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *restrict&nbsp;</td>
          <td class="paramname"> <em>yc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&nbsp;</td>
          <td class="paramname"> <em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&nbsp;</td>
          <td class="paramname"> <em>pitch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&nbsp;</td>
          <td class="paramname"> <em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&nbsp;</td>
          <td class="paramname"> <em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint16_t *restrict&nbsp;</td>
          <td class="paramname"> <em>LabExt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *restrict&nbsp;</td>
          <td class="paramname"> <em>L</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *restrict&nbsp;</td>
          <td class="paramname"> <em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *restrict&nbsp;</td>
          <td class="paramname"> <em>b</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl class="user" compact><dt><b>Introduction and Use Cases:</b></dt><dd>This function is a fast approximation to the function <a class="el" href="group___v_l_i_b__convert_u_y_v_yint__to___l_a_bpl.html">VLIB_convertUYVYint_to_LABpl</a>. Lab color space is an important color-opponent color space. It is derived from the CIE XYZ color space through a non-linear compression, which assures perceptual uniformity. If the input data is in the interleaved YUV422 color format, this function transforms the data into the LAB format and separates the three color channels into separate buffers, color planes.</dd></dl>
<dl class="user" compact><dt><b>Description:</b></dt><dd>This function calculates LAB color space representation of pixels represented in interleaved YUV422 format based on LUT. </dd></dl>
<dl class="user" compact><dt><b></b></dt><dd>The calculated values are stored as 16-bit values.The approximate relationship to the floating-point values calculated by the VLIB function <a class="el" href="group___v_l_i_b__convert_u_y_v_yint__to___l_a_bpl.html">VLIB_convertUYVYint_to_LABpl</a> is as follows: <div class="fragment"><pre class="fragment">
    L = (uint16_t)(439.832L_f + 3518.66 + 0.5);
    a = (uint16_t)(232.394a_f + 29513.99 + 0.5);
    b = (uint16_t)(221.402b_f + 29225.07 + 0.5);
</pre></div> </dd></dl>
<dl class="user" compact><dt><b></b></dt><dd>The conversion back to the floating pt. representation is given by: <div class="fragment"><pre class="fragment">
    L_f = (L - 3518.66)/439.832;
    a_f = (a - 29513.99)/232.394;
    b_f = (b - 29225.07)/221.402;
</pre></div> </dd></dl>
<dl class="user" compact><dt><b></b></dt><dd>Parameter d defines the sparsity of the LUT each of three dimensions of the LUT is subsampled by a factor of ~2d. The size of the LUT in memory is determined by the following equation: 4 x 2 x ((256 &gt;&gt; d) + 1)^3 bytes. The associated memory / accuracy trade-off is given in the following Table: <div class="fragment"><pre class="fragment">
 |========+============+============+==========+=========+==========+=========+==========+=========|
 |        |            |            |   0 &lt; L &lt; 65536    |   0 &lt; a &lt; 65536    |   0 &lt; b &lt; 65536    |
 |========+============+============+==========+=========+==========+=========+==========+=========|
 | Param  | Decimation | Memory for | Mean abs | Max abs | Mean abs | Max abs | Mean abs | Max abs |
 |   d    |   Factor   |    LUT     |   err    |   err   |   err    |   err   |   err    |   err   |
 |========+============+============+==========+=========+==========+=========+==========+=========|
 |   0    |      1     |  129 MB    |    0     |    0    |    0     |    0    |    0     |    0    |
 |   1    |    2x2x2   |   16 MB    |   0.43   |    15   |   0.98   |    55   |   0.7    |    28   |
 |   2    |    4x4x4   |    2 MB    |   1.72   |    46   |   4.23   |   169   |   2.97   |    99   |
 |   3    |    8x8x8   |  281 KB    |   7.51   |   165   |   16.6   |   521   |   12.1   |   283   |
 |   4    |   16x16x16 |   38 KB    |   30.7   |   597   |   61.3   |  1705   |   46.9   |   699   |
 |========+============+============+==========+=========+==========+=========+==========+=========|
</pre></div> </dd></dl>
<dl class="user" compact><dt><b></b></dt><dd>The pointer LabExt points to the LUT, which can be generated using the initialization function <a class="el" href="group___v_l_i_b__init_u_y_v_yint__to___l_a_bpl___l_u_t.html">VLIB_initUYVYint_to_LABpl_LUT</a>. </dd></dl>
<dl class="user" compact><dt><b></b></dt><dd>The matrix coefficients specified by the array coeff are typically as shown in Equation (a) for the case of RGB levels that correspond the 219-level range of Y. Expected ranges are [16..235] for Y and [16..240] for Cb and Cr.<ul>
<li>coeff[] = { 0x2000, 0x2BDD, -0x0AC5, -0x1658, 0x3770 }; (a) </li></ul>
</dd></dl>
<dl class="user" compact><dt><b></b></dt><dd>Alternatively, as shown in Equation (b), for the case of RGB conversion with the 219-level range of Y expanded to fill the full RGB dynamic range. Expected ranges are [16..235] for Y and [16..240] for Cb and Cr.<ul>
<li>coeff[] = { 0x2543, 0x3313, -0x0C8A, -0x1A04, 0x408D }; (b) </li></ul>
</dd></dl>
<dl class="user" compact><dt><b></b></dt><dd>The white point specification is used in the normalization step of the intermediate XYZ color space. A common value is a D65 value given by Equation(c)<ul>
<li>float whitePoint[3] = {0.950456, 1.0, 1.088754}; (c)</li></ul>
</dd></dl>
<dl class="user" compact><dt><b></b></dt><dd></dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>*yc</em>&nbsp;</td><td>Interleaved luma/chroma (UQ8.0) </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>width</em>&nbsp;</td><td>Width of input image (number of luma pixels) (in pixels) </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>pitch</em>&nbsp;</td><td>Pitch of input image (number of luma pixels) (in pixels) </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>height</em>&nbsp;</td><td>Height of input image(number of luma pixels) (in pixels) </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>d</em>&nbsp;</td><td>Defines the LUT sparsity: 1/2^(3d) (valid range = 0-4) </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>*LabExt</em>&nbsp;</td><td>Pointer to the Lab LUT (UQ16.0) </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>*L</em>&nbsp;</td><td>Pointer to L plane (UQ16.0) </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>*a</em>&nbsp;</td><td>Pointer to A plane (UQ16.0) </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>*b</em>&nbsp;</td><td>Pointer to B plane (UQ16.0)</td></tr>
  </table>
</dl>
<dl class="user" compact><dt><b>Assumptions</b></dt><dd><ul>
<li>LabExt should be 8 byte aligned.</li><li>LabExt should be of size: 4 x 2 x ((256 &gt;&gt; d) + 1)^3 bytes</li><li>All other arrays should be 2 byte aligned.</li><li>width should be a multiple of 2, and greater than 0</li><li>pitch should be a multiple of 2, &gt;= width</li></ul>
</dd></dl>
<dl class="user" compact><dt><b>Benchmarks:</b></dt><dd>See VLIB_Test_Report.html for cycle and memory information.</dd></dl>
<dl class="user" compact><dt><b>References:</b></dt><dd><ol type=1>
<li><em> Digital Image Processing </em> by R.C.Gonzales and R.E.Woods, Prentice-Hall, 2007 </li></ol>
</dd></dl>

</div>
</div><p>
<hr size="1"><small>
Copyright  2018, Texas Instruments Incorporated</small>
</body>
</html>
