<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>VLIB: VLIB_ORB_computeOrientation</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<table width=100%>
<tr>
  <td bgcolor="black" width="1"><a href="http://www.ti.com"><img border=0 src="tilogo.gif"></a></td>
  <td bgcolor="red"><img src="titagline.gif"></td>
</tr>
</table>
<!-- Generated by Doxygen 1.5.1-p1 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<h1>VLIB_ORB_computeOrientation</h1><hr><a name="_details"></a><h2>Detailed Description</h2>

<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="_v_l_i_b__orb_8h.html#666325f903e4d4aad8a9f069e178ba47">CORBResult</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___v_l_i_b___o_r_b__compute_orientation.html#geb01b0383029183cd924f7ef93c7396c">VLIB_ORB_computeOrientation</a> (uint8_t inImg[restrict], uint16_t imgWidth, uint16_t imgHeight, uint16_t imgPitch, uint32_t featuresLoc[restrict], uint16_t numFeatures, int16_t outAngles[restrict], uint8_t momentPattern[restrict], uint8_t scratch[restrict])</td></tr>

</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="geb01b0383029183cd924f7ef93c7396c"></a><!-- doxytag: member="c66/VLIB_ORB_computeOrientation.h::VLIB_ORB_computeOrientation" ref="geb01b0383029183cd924f7ef93c7396c" args="(uint8_t inImg[restrict], uint16_t imgWidth, uint16_t imgHeight, uint16_t imgPitch, uint32_t featuresLoc[restrict], uint16_t numFeatures, int16_t outAngles[restrict], uint8_t momentPattern[restrict], uint8_t scratch[restrict])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_v_l_i_b__orb_8h.html#666325f903e4d4aad8a9f069e178ba47">CORBResult</a> VLIB_ORB_computeOrientation           </td>
          <td>(</td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>inImg</em>[restrict], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>imgWidth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>imgHeight</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>imgPitch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>featuresLoc</em>[restrict], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>numFeatures</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&nbsp;</td>
          <td class="paramname"> <em>outAngles</em>[restrict], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>momentPattern</em>[restrict], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>scratch</em>[restrict]</td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl class="user" compact><dt><b>Description:</b></dt><dd>This function can be called after the fast corners are detected so that the feature list is populated. Ideally additional steps would be taken (like <a class="el" href="group___v_l_i_b___o_r_b__best_features_to_front.html">VLIB_ORB_bestFeaturesToFront</a>) to reduce the number of features that this function would operate on and save time, but not mandatory. This function simply computes the orientation of feature points in degrees.</dd></dl>
<dl class="user" compact><dt><b></b></dt><dd></dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>*inImg</em>&nbsp;</td><td>Input 8 bit image data. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>imgWidth</em>&nbsp;</td><td>Width of image in pixels. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>imgHeight</em>&nbsp;</td><td>Height of image in pixels. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>imgPitch</em>&nbsp;</td><td>Pitch of the input image in pixels. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>*featuresLoc</em>&nbsp;</td><td>Co-ordinates of the feature points. It is bit packed 32 bit data for each feature point, where 16 bit LSB is x co-ordinate. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>numFeatures</em>&nbsp;</td><td>Total number of feature points. </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>outAngles</em>&nbsp;</td><td>Output angle corresponding for each feature points in degree. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>*momentPattern</em>&nbsp;</td><td>Specific ORB pattern for moment calculation. One of such example is {15, 15, 15, 15, 14, 14, 14, 13, 13, 12, 11, 10, 9, 8, 6, 3} </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>scratch</em>&nbsp;</td><td>Scratch buffer of size 1991 bytes needed by API.</td></tr>
  </table>
</dl>
<dl class="user" compact><dt><b>Assumptions:</b></dt><dd><ul>
<li>momentPattern is normally constant for a complete use case. In scratch few mask pattern are created specific to moment pattern. If momentPattern pointer provided is NULL then already created mask in scratch area can be used for rest of the flow except first frame. Hence it advisable to pass non zero momentPattern pointer in first call, and later on it should be passed as NULL, along with same scratch buffer, so that computation related to const persitant data generation can be avoided in later frames.</li><li>momentPattern[i] denotes range of pixels to be considered in moment calculation in (+) &amp; (-) x directions for row (i) &amp; (-i), assuming origin being placed at the center of 31x31 Orb patch. E.g. momentPattern[2] value is '15' then it indicates the pixels ranging from -15 to 15 is considered in row number (2) &amp; (-2) in moment calculation. The below Orb patch indicates a '1' for every pixel to be considered in the moment computation for the example momentPattern[]= {15, 15, 15, 15, 14, 14, 14, 13, 13, 12, 11, 10, 9, 8, 6, 3}.<br>
 0000000000001111111000000000000 <br>
 0000000001111111111111000000000 <br>
 0000000111111111111111110000000 <br>
 0000001111111111111111111000000 <br>
 0000011111111111111111111100000 <br>
 0000111111111111111111111110000 <br>
 0001111111111111111111111111000 <br>
 0011111111111111111111111111100 <br>
 0011111111111111111111111111100 <br>
 0111111111111111111111111111110 <br>
 0111111111111111111111111111110 <br>
 0111111111111111111111111111110 <br>
 1111111111111111111111111111111 <br>
 1111111111111111111111111111111 <br>
 1111111111111111111111111111111 <br>
 1111111111111111111111111111111 <br>
 1111111111111111111111111111111 <br>
 1111111111111111111111111111111 <br>
 1111111111111111111111111111111 <br>
 0111111111111111111111111111110 <br>
 0111111111111111111111111111110 <br>
 0111111111111111111111111111110 <br>
 0011111111111111111111111111100 <br>
 0011111111111111111111111111100 <br>
 0001111111111111111111111111000 <br>
 0000111111111111111111111110000 <br>
 0000011111111111111111111100000 <br>
 0000001111111111111111111000000 <br>
 0000000111111111111111110000000 <br>
 0000000001111111111111000000000 <br>
 0000000000001111111000000000000</li></ul>
</dd></dl>
<dl class="user" compact><dt><b>Implementation Notes:</b></dt><dd><ul>
<li>This code is compatible with C6XXX fixed point processors.</li></ul>
</dd></dl>
<dl class="user" compact><dt><b>Benchmarks:</b></dt><dd>See VLIB_Test_Report.html for cycle and memory information. </dd></dl>

</div>
</div><p>
<hr size="1"><small>
Copyright  2018, Texas Instruments Incorporated</small>
</body>
</html>
